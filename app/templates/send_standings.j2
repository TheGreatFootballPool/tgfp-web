<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Email Standings</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        :root {
            /* TGFP-adjacent palette: deep navy background with teal accent */
            --tgfp-bg: #0b132b; /* deep navy */
            --tgfp-surface: #1c2541; /* card surface */
            --tgfp-accent: #5bc0be; /* teal accent */
            --tgfp-text: #e9eef6; /* near-white text */
            --tgfp-muted: #a7b1c2; /* muted text */
            --tgfp-border: #2a3a66; /* borders */
        }

        body {
            background: linear-gradient(180deg, var(--tgfp-bg), #0a0f20 70%);
            color: var(--tgfp-text);
        }

        .page-wrap {
            max-width: 900px;
            margin: 3rem auto; /* inset from edges by a few REM */
            padding: 0 1rem; /* small side padding on mobile */
        }

        .card.tgfp-card {
            background-color: var(--tgfp-surface);
            border: 1px solid var(--tgfp-border);
            box-shadow: 0 1rem 2rem rgba(0, 0, 0, .35);
        }

        .tgfp-header {
            color: var(--tgfp-text);
        }

        .form-label {
            color: var(--tgfp-text);
        }

        .form-control, .form-control:focus {
            background-color: #101935;
            color: var(--tgfp-text);
            border: 1px solid var(--tgfp-border);
            box-shadow: none;
        }

        .form-control:focus {
            border-color: var(--tgfp-accent);
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(91, 192, 190, .25);
        }

        /* Make placeholder text readable on dark background */
        .form-control::placeholder {
            color: var(--tgfp-muted);
            opacity: 1; /* override browser default fade */
        }

        .btn-tgfp {
            background-color: var(--tgfp-accent);
            border-color: var(--tgfp-accent);
            color: #0a0f1c;
            font-weight: 600;
        }

        .btn-tgfp:hover {
            background-color: #49aead; /* darker teal for contrast */
            border-color: #49aead;
            color: #ffffff;            /* ensure readable text */
        }

        .btn-tgfp:focus-visible {
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(73, 174, 173, .35);
        }

        .meta {
            color: var(--tgfp-muted);
        }

        /* Alternating row colors for the included standings table */
        .row-even {
            background-color: #1d2a4a; /* darker navy band */
            border-top: 1px solid var(--tgfp-border);
            border-left: 1px solid var(--tgfp-border);
        }

        .row-odd {
            background-color: #22325b; /* slightly lighter navy */
            border-top: 1px solid var(--tgfp-border);
            border-left: 1px solid var(--tgfp-border);
        }

        /* Optional: improve readability */
        #standings_table td {
            color: var(--tgfp-text);
            padding: .5rem .75rem;
        }

        #standings_table a {
            color: #9adbd9;
        }

        /* matches the teal accent nicely */
    </style>
</head>
<body>
<div class="page-wrap">
    <div class="card tgfp-card">
        <div class="card-body p-4 p-md-5">
            <div class="d-flex align-items-baseline justify-content-between mb-3">
                <h1 class="h4 tgfp-header mb-0">Email the Standings</h1>
                {% if info %}
                    <div class="meta">Season {{ info.current_season }} · Week {{ info.current_week }} <a href="{{ url_for('home') }}">Home</a></div>
                {% endif %}
            </div>
            <form method="post" action="{{ request.url_for('standings_email') }}" class="mt-2">
                <div class="mb-3">
                    <label for="commentary" class="form-label">Standings commentary</label>
                    <textarea class="form-control" id="commentary" name="commentary" rows="10"
                              placeholder="Write your weekly notes, highlights, and chirps here…" required></textarea>
                </div>
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-tgfp">Send Standings Email</button>
                </div>
            </form>
            <div class="mt-4">
                {% include "_standings_table.j2" %}
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS (optional, for components) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>
</html>
